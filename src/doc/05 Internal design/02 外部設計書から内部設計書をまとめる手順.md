# 外部設計書から内部設計書をまとめる手順

## 1. 外部設計書の理解と確認

### 1.1 外部設計書のレビュー

- 外部設計書を詳細に確認し、システム全体の構造やインターフェースを理解する。
- ステークホルダーやプロジェクトチームと再度確認し、不明点や誤解を解消する。

## 2. クラス設計の詳細化

### 2.1 クラス設計

- 外部設計書で定義されたクラス図を基に、各クラスの詳細な設計を行う。
- **クラス定義書**を作成し、各クラスの属性、メソッド、アクセス修飾子を明確に記述する。

### 2.2 メソッドの詳細設計

- 各メソッドの具体的な処理内容を設計する。
- **シーケンス図**を用いてメソッドの処理フローを詳細化する。

## 3. データベース設計の詳細化

### 3.1 テーブル設計

- 外部設計書で定義されたER図を基に、各テーブルの詳細な設計を行う。
- **テーブル定義書**を作成し、カラムのデータ型、制約条件、インデックスの設計を行う。

### 3.2 SQLクエリの設計

- 必要なSQLクエリを詳細に設計し、定義する。
- クエリのパフォーマンスチューニングも考慮する。

## 4. インターフェース設計の詳細化

### 4.1 外部インターフェースの詳細化

- 外部システムとの通信プロトコルやデータフォーマットの詳細設計を行う。
- REST APIのエンドポイント、リクエスト/レスポンスの詳細、エラーハンドリングを明確にする。

### 4.2 内部インターフェースの詳細化

- モジュール間のインターフェースを詳細に設計する。
- データの受け渡し方法やエラーハンドリングの方法を定義する。

## 5. 詳細なユースケース設計

### 5.1 ユースケース詳細化

- 外部設計書で定義されたユースケースを基に、具体的な処理手順を詳細化する。
- 各ユースケースのシナリオを詳細に記述し、シーケンス図を作成する。

## 6. 非機能要件の詳細設計

### 6.1 パフォーマンス設計の詳細化

- 外部設計書で定義されたパフォーマンス要件を基に、具体的な実装方法を詳細化する。
- キャッシュの実装方法やパフォーマンスモニタリングの設計を行う。

### 6.2 セキュリティ設計の詳細化

- セキュリティ要件に基づいて、具体的な認証、認可、データ保護の設計を行う。

### 6.3 信頼性設計の詳細化

- システムの可用性やフォールトトレランスを具体的に実現するための設計を行う。
- バックアップとリカバリの具体的手順を書き出す。

## 7. テスト設計の詳細化

### 7.1 単体テストケースの設計

- 各クラスやメソッドに対する単体テストケースを詳細に設計する。
- **テストケース定義書**を作成し、入力データ、期待される出力、実行手順を明確にする。

### 7.2 結合テストケースの設計

- モジュール間の結合テストを設計する。
- 各インターフェース間のデータの受け渡しが正常に行われるかを確認するテストケースを作成する。

## 内部設計書の構成要素

### 1. 概要

- **プロジェクト名**: 例えば「オンラインショッピングシステム内部設計書」
- **作成者、作成日**: 設計書を作成した人やチームの名前と日付
- **ドキュメントの目的**: ドキュメントの目的や範囲を簡潔に記述

### 2. クラス詳細設計

- **クラス図**: 各クラスの属性、メソッド、アクセス修飾子を記載
- **シーケンス図**: メソッドの処理フロー

### 3. データベース詳細設計

- **テーブル定義書**: カラムのデータ型、制約条件、インデックス
- **SQLクエリ定義**: 各テーブルに対するSQLクエリの詳細

### 4. インターフェース詳細設計

- **外部インターフェース仕様書**: REST APIエンドポイント、リクエスト/レスポンスの詳細、エラーハンドリング
- **内部インターフェース仕様書**: モジュール間のインターフェースとデータの受け渡し方法

### 5. ユースケース詳細設計

- **詳細ユースケース記述**: 詳細なシナリオとシーケンス図

### 6. 非機能要件詳細設計

- **パフォーマンス設計**: キャッシュの実装方法、パフォーマンスモニタリングの設計
- **セキュリティ設計**: 認証、認可、データ保護の具体的設計
- **信頼性設計**: 可用性、バックアップ、リカバリの具体的設計

### 7. テスト設計

- **単体テストケース定義**: 入力データ、期待される出力、実行手順
- **結合テストケース定義**: モジュール間の結合テストケース

### 8. 付録

- **用語集**: 専門用語や略語の解説
- **参考資料**: 引用や参照した文献やドキュメント
